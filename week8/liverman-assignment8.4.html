<!--
; Title: Assignment 8.4
; Author: James Liverman
; Date: 12 December 2020
; Modified By: James Liverman
; Description: jQuery defines simple event-registration methods for each commonly used and universally implemented browser events (Flanagan, 2011). To register these events, 
you simply call the "event function" and pass-in the function you wish to execute.-->

<!--Instructions
Create a JavaScript constructor employee object with an id, firstName, lastName, and title properties.
Create and populate an array of five (5) employee objects.

Create a getEmployee() function that accepts an id argument, iterates over the employee's array, 
and outputs the matched employee record using a JavaScript alert box.

Create a string variable named "output" and build an HTML table.
Iterate over the employee's array and append each employee property using the <td> td> tag. 
Assign the output string to the "emps" through the innerHTML function.
Register an onClick event for $("table tr") and call the find('td:first').html() function.
Using the getEmployee() function find the selected employee object and output the results.  -->
  
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Assignment 8.4</title>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link rel="stylesheet" href="../site.css" />

    <style type="text/css">
      #employee tbody tr:hover {
      background-color: aqua;
      }
    </style>
  </head>
  <body>
    <h1>Employees</h1>
    <div id="emps"></div>

    <script type="text/javascript">
      // Create a Constrictor employee object with an id, firstName, lastName, and title properties.
      function Employee(id, firstName, lastName, title) {
        this.id = id;
        this.firstName = firstName;
        this.lastName = lastName;
        this.title = title; }

      // Create and populate an array of five (5) employee objects.
      var employees = [
        new Employee(1, "James", "Dean", "Software Designer"),
        new Employee(2, "Tim", "Allen", "Programmer"),
        new Employee(3, "Charles", "Barkley", "Basketball Player"),
        new Employee(4, "Jim", "Cook", "Navigator"),
        new Employee(5, "Jake", "Shields", "Project Manager"), ];

      // Create a getEmployee() function that accepts an id argument, iterates over the employee's array, and outputs the matched employee record using a JavaScript alert box.
      function getEmployee(id) {
        var alert = "";
        for (var i = 0; i < employees.length; i++) {
          if (id == employees[i].id) {
            alert = employees[i].id +
              " " + employees[i].firstName +
              " " + employees[i].lastName +
              " " + employees[i].title;
            return alert;}}}

      // Create a string variable named "output" and build an HTML table.
      var output = "<table id='employee'>";

      // Iterate over the employee's array and append each employee property using the <tr> <td> tags.
      employees.forEach(function (employee) {
        output +=
          "<tr><td>" +
          employee.id +
          "</td><td>" +
          employee.firstName +
          "</td><td>" +
          employee.lastName +
          "</td><td>" +
          employee.title +
          "</td></tr>";
      });

      output += "</table>";

      // Assign the output string to the "emps" through the innerHTML function.
      document.getElementById("emps").innerHTML = output;

      $(function () {
        $("table tr").click(function () {
          // Creating an onClick event for $("table tr") and call the find('td:first').html() function.
          let id = $(this).find("td:first").html();
          // Using the getEmployee() function find the selected employee object and output the results.
          alert(getEmployee(id));
        });
      });
    </script>
  </body>
</html>